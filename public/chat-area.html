<div id="container" ng-controller="ChatController as chat">

  <div id="members" class='pull-left'>
    <a class="list-group-item" ng-click='chat.setNameToReply(member.userName)' href="#" ng-repeat='member in members'>
      <span style="color:{{ member.userColor }}">{{ member.userName }}</span>
    </a>
  </div>

  <div class="chat-content">
    <div id="options">
      Disable sound:
      <input type="checkbox" ng-model='chat.soundEnabled'>
    </div>

    <div id="content" ng-init="chat.initialize()">
      <ul>
        <li ng-repeat='message in messages'>
          <span ng-show='message.type == "reply"'>
            <span style="color:{{ message.color }}">{{ message.author }}</span>: {{ message.text }}
          </span>
          <span ng-show='message.type == "system"' style="color:{{ message.color }}">
            *{{ message.text }}
          </span>
        </li>
      </ul>
      <a id="bottom"></a>
    </div>

    <br />

    <div id="controls" class='chat-controls'>
      <span ng-show="chat.isState('connecting')">Connecting...</span>
      <span ng-show="chat.isState('errorCorrupted')">Error</span>

      <div class='' ng-show="chat.isState('waitingForName')">
        <label for="userName"><span>Choose name:</span></label>
        <input type="text" class="input-control form-control" id="userName" ng-keydown="chat.setUserName($event)" ng-model="chat.userName" />
      </div>

      <div class='' ng-show="chat.isState('active')">
        <label for="messageText">
          <span class='current-nickname' style='color: {{ userColor }};'>{{ chat.userName }}:</span>
        </label>
        <input type="text" class="message form-control" id="messageText" ng-keydown="chat.sendMessage($event)" ng-model="currentMessage" />
      </div>
    </div>
  </div>

</div>
